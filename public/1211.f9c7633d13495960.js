"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1211],{1211:(b,h,l)=>{l.r(h),l.d(h,{CalendarioPageModule:()=>O});var g=l(9808),u=l(4182),i=l(5056),_=l(8808),m=l(655),e=l(9863),f=l(3442);function p(o,r){if(1&o&&(e.TgZ(0,"ion-label")(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA()()),2&o){const n=e.oxw();e.xp6(2),e.Oqu(n.salones[n.contador].nombre),e.xp6(2),e.Oqu(n.salones[n.contador].ubicacion)}}function C(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"ion-datetime",9),e.NdJ("ngModelChange",function(t){e.CHM(n);const s=e.oxw();return e.KtG(s.dias=t)}),e.qZA()}if(2&o){const n=e.oxw();e.s9C("monthValues",n.mes),e.s9C("yearValues",n.anio),e.Q6J("ngModel",n.dias)}}function v(o,r){if(1&o&&(e.TgZ(0,"ion-label")(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA()()),2&o){const n=e.oxw(2);e.xp6(2),e.Oqu(n.salones[n.contador].nombre),e.xp6(2),e.Oqu(n.salones[n.contador].ubicacion)}}function Z(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"ion-item")(1,"ion-label")(2,"h2"),e._uU(3,"Fecha"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-label",15)(7,"h2"),e._uU(8,"Reserv\xf3"),e.qZA(),e.TgZ(9,"p",16),e.NdJ("mouseenter",function(){const s=e.CHM(n).$implicit,c=e.oxw(2);return e.KtG(c.presentToast(s.persona))}),e._uU(10),e.qZA()(),e.TgZ(11,"ion-label")(12,"h2"),e._uU(13,"Grupo"),e.qZA(),e.TgZ(14,"p"),e._uU(15),e.qZA()(),e.TgZ(16,"ion-label")(17,"h2"),e._uU(18,"Duraci\xf3n"),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.qZA()()()}if(2&o){const n=r.$implicit;e.xp6(5),e.Oqu(n.fecha),e.xp6(5),e.Oqu(n.persona),e.xp6(5),e.Oqu(n.grupo),e.xp6(5),e.Oqu(n.horaI+"-"+n.horaF)}}function P(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Por fecha"),e.qZA(),e.TgZ(4,"ion-buttons",10)(5,"ion-button",11),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.confirm())}),e._uU(6,"Salir"),e.qZA()()()(),e.TgZ(7,"ion-content",12)(8,"ion-grid",13)(9,"ion-row")(10,"ion-col")(11,"ion-list")(12,"ion-title"),e.YNc(13,v,5,2,"ion-label",3),e.qZA(),e.YNc(14,Z,21,4,"ion-item",14),e.qZA()()()()()}if(2&o){const n=e.oxw();e.xp6(5),e.Q6J("strong",!0),e.xp6(8),e.Q6J("ngIf",null!=n.salones),e.xp6(1),e.Q6J("ngForOf",n.ReservacionesOrdenadas)}}const T=[{path:"",component:(()=>{class o{constructor(n,a){this.toastController=n,this.reservarService=a,this.contador=0,this.mes=(new Date).getMonth()+1,this.anio=(new Date).getFullYear(),this.fechaCalendarioMin="2022-"+this.mes+"-01T00:00:00",this.fechaCalendarioMax="2022-"+this.mes+"-31T23:59:59",this.salones=JSON.parse(localStorage.getItem("salones")),this.dias=new Array,this.dias.push(this.fechaCalendarioMax),this.ColocarFechas()}ngOnInit(){}GetSalones(){return(0,m.mG)(this,void 0,void 0,function*(){this.reservarService.GetSalones().subscribe(a=>{a.length>0&&(this.salones=a)})})}CambiarSalonF(){this.contador+1==this.salones.length?this.contador=0:this.contador++,this.ColocarFechas()}CambiarSalonR(){this.contador-1==-1?this.contador=this.salones.length-1:this.contador--,this.ColocarFechas()}ColocarFechas(){this.mes=(new Date).getMonth()+1,this.anio=(new Date).getFullYear(),this.fechaCalendarioMin="2022-"+this.mes+"-01T00:00:00",this.fechaCalendarioMax="2022-"+this.mes+"-01T00:00:00";let n,t=new Array;this.reservarService.getReservacionesSalonMes(this.salones[this.contador].id,this.mes.toString()).subscribe(c=>{if(this.reservaciones=c,this.reservaciones.length>0)for(let d=0;d<this.reservaciones.length;d++)n=Number.parseInt(this.reservaciones[d].fecha.substring(5,7)),n==this.mes&&t.push(this.reservaciones[d].fecha);this.dias=t})}ConsultarDatTIme(){}OrdenarReservaciones(){this.ReservacionesOrdenadas=new Array;let n,a,t=!1;for(let s=0;s<this.reservaciones.length;s++)if(t=!1,0==s)this.ReservacionesOrdenadas.push(this.reservaciones[s]);else{a=Number.parseInt(this.reservaciones[s].fecha.substring(8,10));for(let c=0;c<this.ReservacionesOrdenadas.length;c++)if(n=Number.parseInt(this.ReservacionesOrdenadas[c].fecha.substring(8,10)),a<=n){this.ReservacionesOrdenadas.splice(c,0,this.reservaciones[s]),t=!0;break}t||this.ReservacionesOrdenadas.push(this.reservaciones[s])}}presentToast(n){return(0,m.mG)(this,void 0,void 0,function*(){yield(yield this.toastController.create({message:n,duration:1500,position:"bottom"})).present()})}doRefresh(n){setTimeout(()=>{this.GetSalones(),location.reload(),n.target.complete()},1e3)}cancel(){this.modal.dismiss(null,"cancel")}confirm(){this.modal.dismiss("confirm")}onWillDismiss(){event}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(i.yF),e.Y36(f.Q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-calendario"]],viewQuery:function(n,a){if(1&n&&e.Gf(i.ki,5),2&n){let t;e.iGM(t=e.CRH())&&(a.modal=t.first)}},decls:22,vars:2,consts:[["id","Header"],["fill","clear",3,"click"],["name","chevron-back-outline"],[4,"ngIf"],["name","chevron-forward-outline"],["slot","fixed",3,"ionRefresh"],["size","cover","presentation","date","multiple","true","id","dateTime4","enabled","false",3,"ngModel","monthValues","yearValues","ngModelChange",4,"ngIf"],["expand","full","id","open-modal",3,"click"],["trigger","open-modal",3,"willDismiss"],["size","cover","presentation","date","multiple","true","id","dateTime4","enabled","false",3,"ngModel","monthValues","yearValues","ngModelChange"],["slot","end"],[3,"strong","click"],[1,"ion-padding"],["id","Info"],[4,"ngFor","ngForOf"],["id","ReservoAction"],[3,"mouseenter"]],template:function(n,a){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"D\xedas con reuniones."),e.qZA(),e.TgZ(4,"ion-grid",0)(5,"ion-row")(6,"ion-col")(7,"ion-button",1),e.NdJ("click",function(){return a.CambiarSalonR()}),e._UZ(8,"ion-icon",2),e.qZA()(),e.TgZ(9,"ion-col"),e.YNc(10,p,5,2,"ion-label",3),e.qZA(),e.TgZ(11,"ion-col")(12,"ion-button",1),e.NdJ("click",function(){return a.CambiarSalonF()}),e._UZ(13,"ion-icon",4),e.qZA()()()()()(),e.TgZ(14,"ion-content")(15,"ion-refresher",5),e.NdJ("ionRefresh",function(s){return a.doRefresh(s)}),e._UZ(16,"ion-refresher-content"),e.qZA(),e.YNc(17,C,1,3,"ion-datetime",6),e.TgZ(18,"ion-button",7),e.NdJ("click",function(){return a.OrdenarReservaciones()}),e._uU(19,"Consultar"),e.qZA(),e.TgZ(20,"ion-modal",8),e.NdJ("willDismiss",function(){return a.onWillDismiss()}),e.YNc(21,P,15,3,"ng-template"),e.qZA()()),2&n&&(e.xp6(10),e.Q6J("ngIf",null!=a.salones),e.xp6(7),e.Q6J("ngIf",null!=a.dias))},dependencies:[g.sg,g.O5,u.JJ,u.On,i.YG,i.Sm,i.wI,i.W2,i.x4,i.jY,i.Gu,i.gu,i.Ie,i.Q$,i.q_,i.nJ,i.Wo,i.Nd,i.wd,i.sr,i.ki,i.QI],styles:["ion-grid[_ngcontent-%COMP%]{width:100%}ion-grid[_ngcontent-%COMP%]   #Header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{width:100%}ion-grid[_ngcontent-%COMP%]   #Header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{width:33.33%}ion-grid[_ngcontent-%COMP%]   #Header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{height:100%}.ion-padding[_ngcontent-%COMP%]{--ion-grid-width:100%}.ion-padding[_ngcontent-%COMP%]   #Info[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{width:100%}.ion-padding[_ngcontent-%COMP%]   #Info[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{width:100%}"]}),o})()}];let M=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.Bz.forChild(T),_.Bz]}),o})(),O=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.ez,u.u5,i.Pc,M]}),o})()}}]);